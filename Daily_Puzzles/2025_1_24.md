```cpp
class Solution {
public:
    int minimumCoins(vector<int>& prices) {
        int n = prices.size();
        vector<int> memo((n + 1) / 2);

        auto dfs = [&](this auto&& dfs, int i) -> int
        {
            if (i * 2 >= n)
            {
                return prices[i - 1];
            }

            int& res = memo[i];  // 记忆化搜索
            if (res)
            {
                return res;
            }

            res = INT_MAX;
            for (int j = i + 1; j <= i * 2 + 1; j ++)
            {
                res = min(res, dfs(j));
            }

            res += prices[i - 1];

            return res;
        };

        return dfs(1);
    }
};
```