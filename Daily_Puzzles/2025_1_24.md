### Leetcode在线版本

```cpp
class Solution {
public:
    int minimumCoins(vector<int>& prices) {
        int n = prices.size();
        vector<int> memo((n + 1) / 2);

        auto dfs = [&](this auto&& dfs, int i) -> int
        {
            if (i * 2 >= n)
            {
                return prices[i - 1];
            }

            int& res = memo[i];  // 记忆化搜索
            if (res)
            {
                return res;
            }

            res = INT_MAX;
            for (int j = i + 1; j <= i * 2 + 1; j ++)
            {
                res = min(res, dfs(j));
            }

            res += prices[i - 1];

            return res;
        };

        return dfs(1);
    }
};
```

### 本地测试版

```cpp
#include <cstring>
#include <iostream>
#include <algorithm>
#include <vector>

using namespace std;

int n = 0;
const int N = 1010;
vector<int> prices(N);
vector<int> memo((N + 1) / 2);

int dfs(int i)
{
    if (i * 2 >= n)
    {
        return prices[i - 1];
    }

    int& res = memo[i];

    if (res)
    {
        return res;
    }

    res = INT_MAX;
    for (int j = i + 1; j <= 2 * i + 1; j ++)
    {
        res = min(res, dfs(j));
    }

    res += prices[i - 1];

    return res;
}

int main()
{
    int a = 0;
    cin >> n;
    for (int i = 0; i < n; i ++)
    {
        cin >> a;
        prices[i] = a;
    }

    int res = dfs(1);

    cout << "res: " << res << endl;
    return 0;
}
```